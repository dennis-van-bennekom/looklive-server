{"version":3,"sources":["app.js"],"names":["init","links","document","querySelectorAll","forEach","call","link","addEventListener","event","preventDefault","url","currentTarget","getAttribute","href","history","pushState","loadPage","window","location","pathname","wrapper","querySelector","fetch","then","response","text","innerHTML","ready","feed","Blazy","appearance","products","classList","add","firstIndicator","dataset","uuid","indicators","indicator","id","target","currentIndicatorActive","remove","newIndicatorActive","currentActive","newActive","test"],"mappings":"CAIA,WACA,QAAAA,KACA,GAAAC,GAAAC,SAAAC,iBAAA,kBAEAC,QAAAC,KAAAJ,EAAA,SAAAK,GACAA,EAAAC,iBAAA,QAAA,SAAAC,GACAA,EAAAC,gBAEA,IAAAC,GAAAF,EAAAG,cAAAC,aAAA,YACAC,EAAAL,EAAAG,cAAAE,IAEAC,SAAAC,UAAA,KAAA,KAAAF,GAEAG,EAAAN,OAIAO,OAAAV,iBAAA,WAAA,SAAAC,GACA,GAAAE,GAAA,OAAAO,OAAAC,SAAAC,QAEA,WAAAT,IACAA,EAAA,aAGAM,EAAAN,KAIA,QAAAM,GAAAN,EAAAG,GACA,GAAAO,GAAAlB,SAAAmB,cAAA,iBAEAC,OAAAZ,GACAa,KAAA,SAAAC,GACA,MAAAA,GAAAC,SAEAF,KAAA,SAAAE,GACAL,EAAAM,UAAAD,EACAE,MAIA,QAAAC,KACA,GAAAC,OAGA,QAAAC,KAEA,GAAAC,GAAA7B,SAAAC,iBAAA,WAEA4B,GAAA,GAAAC,UAAAC,IAAA,iBAEA,IAAAC,GAAAhC,SAAAmB,cAAA,iCAAAU,EAAA,GAAAI,QAAAC,KAAA,KAEAF,GAAAF,UAAAC,IAAA,2BAEA,IAAAI,GAAAnC,SAAAC,iBAAA,yBAEAC,QAAAC,KAAAgC,EAAA,SAAAC,GACAA,EAAA/B,iBAAA,QAAA,SAAAC,GACA,GAAA+B,GAAA/B,EAAAgC,OAAAL,QAAAC,KAEAK,EAAAvC,SAAAmB,cAAA,4BACAoB,GAAAT,UAAAU,OAAA,2BAEA,IAAAC,GAAAnC,EAAAgC,MACAG,GAAAX,UAAAC,IAAA,2BAEA,IAAAW,GAAA1C,SAAAmB,cAAA,kBACAuB,GAAAZ,UAAAU,OAAA,iBAEA,IAAAG,GAAA3C,SAAAmB,cAAA,uBAAAkB,EAAA,KACAM,GAAAb,UAAAC,IAAA,sBAKA,QAAAN,KACA3B,IAEA,MAAAiB,OAAAC,SAAAC,UACAS,IAIA,aAAAkB,KAAA7B,OAAAC,SAAAL,OACAiB,IAIA5B,SAAAK,iBAAA,mBAAA,WACAoB,MACA","file":"app.js","sourcesContent":["/*\n * jQuery specifieke code omgezet naar vanilla javascript zodat de jQuery\n * library niet in hoeft geladen te worden. Dit scheelt een stuk in laadtijd.\n**/\n(function() {\n    function init() {\n        var links = document.querySelectorAll('a[data-url]');\n\n        [].forEach.call(links, function(link) {\n            link.addEventListener('click', function(event) {\n                event.preventDefault();\n\n                var url = event.currentTarget.getAttribute('data-url');\n                var href = event.currentTarget.href;\n\n                history.pushState(null, null, href);\n\n                loadPage(url);\n            });\n        });\n\n        window.addEventListener('popstate', function(event) {\n            var url = '/api' + window.location.pathname;\n\n            if (url === '/api/') {\n                url = '/api/feed';\n            }\n\n            loadPage(url)\n        });\n    }\n\n    function loadPage(url, href) {\n        var wrapper = document.querySelector('.inner-wrapper');\n\n        fetch(url)\n            .then(function(response) {\n              return response.text();\n            })\n            .then(function(text) {\n                wrapper.innerHTML = text;\n                ready();\n            });\n    }\n\n    function feed() {\n        var blazy = new Blazy();\n    }\n\n    function appearance() {\n        // Appearance page\n        var products = document.querySelectorAll('.product');\n\n        products[0].classList.add('product-active');\n\n        var firstIndicator = document.querySelector('.product-indicator[data-uuid=\"' + products[0].dataset.uuid + '\"]');\n\n        firstIndicator.classList.add('product-indicator-active');\n\n        var indicators = document.querySelectorAll('.product-indicator');\n\n        [].forEach.call(indicators, function(indicator) {\n            indicator.addEventListener('click', function(event) {\n                var id = event.target.dataset.uuid;\n\n                var currentIndicatorActive = document.querySelector('.product-indicator-active');\n                currentIndicatorActive.classList.remove('product-indicator-active');\n\n                var newIndicatorActive = event.target;\n                newIndicatorActive.classList.add('product-indicator-active');\n\n                var currentActive = document.querySelector('.product-active');\n                currentActive.classList.remove('product-active');\n\n                var newActive = document.querySelector('.product[data-uuid=\"' + id + '\"]');\n                newActive.classList.add('product-active');\n            });\n        });\n    }\n\n    function ready() {\n        init();\n\n        if (window.location.pathname === '/') {\n            feed();\n        }\n\n        // Credit: Robert van Steen\n        if (/appearance/.test(window.location.href)) {\n            appearance();\n        }\n    }\n\n    document.addEventListener('DOMContentLoaded', function() {\n        ready();\n    }, false);\n}());\n"],"sourceRoot":"/source/"}